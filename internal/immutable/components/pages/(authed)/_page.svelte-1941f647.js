import{S as X,i as Z,F as x,a2 as re,a3 as oe,k as z,q as D,a as y,w as V,l as g,m as E,r as N,h as p,c as I,x as H,n as b,b as w,K as m,y as L,U as O,a4 as ie,f as M,t as P,z as R,a5 as W,a6 as ue,a7 as te,D as ee,B as fe,V as _e,a8 as me,u as se,L as pe}from"../../../chunks/index-169c4bf0.js";import{c as he,a as ce,u as be,d as ze,q as ge}from"../../../chunks/quizzes-4cb7249e.js";import{M as de}from"../../../chunks/Modal-482012ab.js";import{S as ae}from"../../../chunks/SortDirection-1f1310c1.js";import"../../../chunks/navigation-2407bb7d.js";function ve(r){let e,t,a,s,o,l,f,d,v;return{c(){e=z("form"),t=z("input"),a=y(),s=z("div"),o=z("div"),l=z("input"),this.h()},l(u){e=g(u,"FORM",{});var i=E(e);t=g(i,"INPUT",{type:!0,class:!0,placeholder:!0}),a=I(i),s=g(i,"DIV",{class:!0});var h=E(s);o=g(h,"DIV",{class:!0});var $=E(o);l=g($,"INPUT",{type:!0,class:!0}),$.forEach(p),h.forEach(p),i.forEach(p),this.h()},h(){b(t,"type","text"),b(t,"class","mb-1"),b(t,"placeholder","Name"),b(l,"type","submit"),b(l,"class","btn primary"),l.value="Create Quiz",l.disabled=f=!r[0],b(o,"class","flex"),b(s,"class","flex flex-column justify-end")},m(u,i){w(u,e,i),m(e,t),W(t,r[0]),m(e,a),m(e,s),m(s,o),m(o,l),d||(v=[ue(ce.call(null,t)),O(t,"input",r[4]),O(e,"submit",te(r[2]))],d=!0)},p(u,i){i&1&&t.value!==u[0]&&W(t,u[0]),i&1&&f!==(f=!u[0])&&(l.disabled=f)},d(u){u&&p(e),d=!1,ee(v)}}}function $e(r){let e,t;return{c(){e=z("h3"),t=D("Create a Quiz"),this.h()},l(a){e=g(a,"H3",{slot:!0});var s=E(e);t=N(s,"Create a Quiz"),s.forEach(p),this.h()},h(){b(e,"slot","title")},m(a,s){w(a,e,s),m(e,t)},p:fe,d(a){a&&p(e)}}}function Ee(r){let e,t,a,s,o,l,f,d;function v(i){r[5](i)}let u={$$slots:{title:[$e],default:[ve]},$$scope:{ctx:r}};return r[1]!==void 0&&(u.open=r[1]),s=new de({props:u}),re.push(()=>oe(s,"open",v)),{c(){e=z("button"),t=D("Create Quiz"),a=y(),V(s.$$.fragment),this.h()},l(i){e=g(i,"BUTTON",{class:!0});var h=E(e);t=N(h,"Create Quiz"),h.forEach(p),a=I(i),H(s.$$.fragment,i),this.h()},h(){b(e,"class","btn primary")},m(i,h){w(i,e,h),m(e,t),w(i,a,h),L(s,i,h),l=!0,f||(d=O(e,"click",r[3]),f=!0)},p(i,[h]){const $={};h&65&&($.$$scope={dirty:h,ctx:i}),!o&&h&2&&(o=!0,$.open=i[1],ie(()=>o=!1)),s.$set($)},i(i){l||(M(s.$$.fragment,i),l=!0)},o(i){P(s.$$.fragment,i),l=!1},d(i){i&&p(e),i&&p(a),R(s,i),f=!1,d()}}}function ke(r,e,t){let a;async function s(){await he({name:a}),t(0,a=""),t(1,o=!1)}let o=!1;function l(){t(1,o=!0)}function f(){a=this.value,t(0,a)}function d(v){o=v,t(1,o)}return[a,o,s,l,f,d]}class Te extends X{constructor(e){super(),Z(this,e,ke,Ee,x,{})}}function Qe(r){let e,t,a,s,o,l,f,d,v;return{c(){e=z("form"),t=z("input"),a=y(),s=z("div"),o=z("div"),l=z("input"),this.h()},l(u){e=g(u,"FORM",{});var i=E(e);t=g(i,"INPUT",{type:!0,class:!0,placeholder:!0}),a=I(i),s=g(i,"DIV",{class:!0});var h=E(s);o=g(h,"DIV",{class:!0});var $=E(o);l=g($,"INPUT",{type:!0,class:!0}),$.forEach(p),h.forEach(p),i.forEach(p),this.h()},h(){b(t,"type","text"),b(t,"class","mb-1"),b(t,"placeholder","Name"),b(l,"type","submit"),b(l,"class","btn primary"),l.value="Update Quiz",l.disabled=f=!r[0],b(o,"class","flex"),b(s,"class","flex flex-column justify-end")},m(u,i){w(u,e,i),m(e,t),W(t,r[0]),m(e,a),m(e,s),m(s,o),m(o,l),d||(v=[ue(ce.call(null,t)),O(t,"input",r[5]),O(e,"submit",te(r[3]))],d=!0)},p(u,i){i&1&&t.value!==u[0]&&W(t,u[0]),i&1&&f!==(f=!u[0])&&(l.disabled=f)},d(u){u&&p(e),d=!1,ee(v)}}}function qe(r){let e,t;return{c(){e=z("h3"),t=D("Update a Quiz"),this.h()},l(a){e=g(a,"H3",{slot:!0});var s=E(e);t=N(s,"Update a Quiz"),s.forEach(p),this.h()},h(){b(e,"slot","title")},m(a,s){w(a,e,s),m(e,t)},p:fe,d(a){a&&p(e)}}}function Ce(r){let e,t,a;function s(l){r[6](l)}let o={onClose:r[2],$$slots:{title:[qe],default:[Qe]},$$scope:{ctx:r}};return r[1]!==void 0&&(o.open=r[1]),e=new de({props:o}),re.push(()=>oe(e,"open",s)),{c(){V(e.$$.fragment)},l(l){H(e.$$.fragment,l)},m(l,f){L(e,l,f),a=!0},p(l,[f]){const d={};f&4&&(d.onClose=l[2]),f&129&&(d.$$scope={dirty:f,ctx:l}),!t&&f&2&&(t=!0,d.open=l[1],ie(()=>t=!1)),e.$set(d)},i(l){a||(M(e.$$.fragment,l),a=!0)},o(l){P(e.$$.fragment,l),a=!1},d(l){R(e,l)}}}function ye(r,e,t){let{name:a}=e,{localId:s}=e,{open:o=!1}=e,{onClose:l=()=>{}}=e;async function f(){await be(s,{name:a}),t(0,a=""),t(1,o=!1)}function d(){a=this.value,t(0,a)}function v(u){o=u,t(1,o)}return r.$$set=u=>{"name"in u&&t(0,a=u.name),"localId"in u&&t(4,s=u.localId),"open"in u&&t(1,o=u.open),"onClose"in u&&t(2,l=u.onClose)},[a,o,l,f,s,d,v]}class Ie extends X{constructor(e){super(),Z(this,e,ye,Ce,x,{name:0,localId:4,open:1,onClose:2})}}function le(r,e,t){const a=r.slice();return a[11]=e[t],a}function ne(r,e){let t,a,s,o=e[11].name+"",l,f,d,v,u=e[11].created_at.toLocaleString()+"",i,h,$,_,q,Q,k,F,S,A,Y;function j(){return e[9](e[11])}function J(){return e[10](e[11])}return{key:r,first:null,c(){t=z("tr"),a=z("td"),s=z("a"),l=D(o),d=y(),v=z("td"),i=D(u),h=y(),$=z("td"),_=z("button"),q=D("delete"),Q=y(),k=z("button"),F=D("edit"),S=y(),this.h()},l(n){t=g(n,"TR",{class:!0});var c=E(t);a=g(c,"TD",{class:!0});var T=E(a);s=g(T,"A",{href:!0});var C=E(s);l=N(C,o),C.forEach(p),T.forEach(p),d=I(c),v=g(c,"TD",{class:!0});var U=E(v);i=N(U,u),U.forEach(p),h=I(c),$=g(c,"TD",{class:!0});var B=E($);_=g(B,"BUTTON",{class:!0});var G=E(_);q=N(G,"delete"),G.forEach(p),Q=I(B),k=g(B,"BUTTON",{class:!0});var K=E(k);F=N(K,"edit"),K.forEach(p),B.forEach(p),S=I(c),c.forEach(p),this.h()},h(){b(s,"href",f="/quizzes/"+e[11].local_id),b(a,"class","border-b border-slate-100 dark:border-slate-700 p-1"),b(v,"class","border-b border-slate-100 dark:border-slate-700 p-1"),b(_,"class","btn danger"),b(k,"class","btn primary"),b($,"class","quiz-commands"),b(t,"class","hover:bg-gray-200 cursor-pointer"),this.first=t},m(n,c){w(n,t,c),m(t,a),m(a,s),m(s,l),m(t,d),m(t,v),m(v,i),m(t,h),m(t,$),m($,_),m(_,q),m($,Q),m($,k),m(k,F),m(t,S),A||(Y=[O(_,"click",j),O(k,"click",te(J))],A=!0)},p(n,c){e=n,c&1&&o!==(o=e[11].name+"")&&se(l,o),c&1&&f!==(f="/quizzes/"+e[11].local_id)&&b(s,"href",f),c&1&&u!==(u=e[11].created_at.toLocaleString()+"")&&se(i,u)},d(n){n&&p(t),A=!1,ee(Y)}}}function we(r){let e,t,a,s,o,l,f,d,v,u,i,h,$,_,q,Q,k=[],F=new Map,S,A,Y;e=new Te({}),a=new Ie({props:{name:r[3],localId:r[2],open:r[4],onClose:r[7]}}),u=new ae({props:{sort:r[1]&&r[1][0]==="name",asc:r[1]&&r[1][1]===1}}),_=new ae({props:{sort:r[1]&&r[1][0]==="created_at",asc:r[1]&&r[1][1]===1}});let j=r[0];const J=n=>n[11].local_id;for(let n=0;n<j.length;n+=1){let c=le(r,j,n),T=J(c);F.set(T,k[n]=ne(T,c))}return{c(){V(e.$$.fragment),t=y(),V(a.$$.fragment),s=y(),o=z("table"),l=z("thead"),f=z("tr"),d=z("th"),v=D("Name "),V(u.$$.fragment),i=y(),h=z("th"),$=D("Created At "),V(_.$$.fragment),q=y(),Q=z("tbody");for(let n=0;n<k.length;n+=1)k[n].c();this.h()},l(n){H(e.$$.fragment,n),t=I(n),H(a.$$.fragment,n),s=I(n),o=g(n,"TABLE",{class:!0});var c=E(o);l=g(c,"THEAD",{});var T=E(l);f=g(T,"TR",{});var C=E(f);d=g(C,"TH",{class:!0});var U=E(d);v=N(U,"Name "),H(u.$$.fragment,U),U.forEach(p),i=I(C),h=g(C,"TH",{class:!0});var B=E(h);$=N(B,"Created At "),H(_.$$.fragment,B),B.forEach(p),C.forEach(p),T.forEach(p),q=I(c),Q=g(c,"TBODY",{});var G=E(Q);for(let K=0;K<k.length;K+=1)k[K].l(G);G.forEach(p),c.forEach(p),this.h()},h(){b(d,"class","border-b dark:border-slate-600 cursor-pointer select-none text-left p-1"),b(h,"class","border-b dark:border-slate-600 cursor-pointer select-none text-left p-1"),b(o,"class","table-auto w-full")},m(n,c){L(e,n,c),w(n,t,c),L(a,n,c),w(n,s,c),w(n,o,c),m(o,l),m(l,f),m(f,d),m(d,v),L(u,d,null),m(f,i),m(f,h),m(h,$),L(_,h,null),m(o,q),m(o,Q);for(let T=0;T<k.length;T+=1)k[T].m(Q,null);S=!0,A||(Y=[O(d,"click",r[5]("name")),O(h,"click",r[5]("created_at"))],A=!0)},p(n,[c]){const T={};c&8&&(T.name=n[3]),c&4&&(T.localId=n[2]),c&16&&(T.open=n[4]),a.$set(T);const C={};c&2&&(C.sort=n[1]&&n[1][0]==="name"),c&2&&(C.asc=n[1]&&n[1][1]===1),u.$set(C);const U={};c&2&&(U.sort=n[1]&&n[1][0]==="created_at"),c&2&&(U.asc=n[1]&&n[1][1]===1),_.$set(U),c&321&&(j=n[0],k=_e(k,c,J,1,n,j,F,Q,me,ne,null,le))},i(n){S||(M(e.$$.fragment,n),M(a.$$.fragment,n),M(u.$$.fragment,n),M(_.$$.fragment,n),S=!0)},o(n){P(e.$$.fragment,n),P(a.$$.fragment,n),P(u.$$.fragment,n),P(_.$$.fragment,n),S=!1},d(n){R(e,n),n&&p(t),R(a,n),n&&p(s),n&&p(o),R(u),R(_);for(let c=0;c<k.length;c+=1)k[c].d();A=!1,ee(Y)}}}function Ue(r,e,t){let{quizzes:a}=e,s;function o(_){function q(Q,k){return s&&s[1]===-1?Q[_]<k[_]?-1:1:Q[_]>k[_]?-1:1}return()=>{s&&s[0]===_?t(1,s=[_,-s[1]]):t(1,s=[_,1]),t(0,a=[...a].sort(q))}}let l,f,d=!1;function v(_,q){t(3,f=q),t(2,l=_),t(4,d=!0)}function u(){t(3,f=""),t(2,l=-1),t(4,d=!1)}async function i(_){window.confirm("Are you sure?")&&await ze(_)}const h=_=>{i(_.local_id)},$=_=>v(_.local_id,_.name);return r.$$set=_=>{"quizzes"in _&&t(0,a=_.quizzes)},[a,s,l,f,d,o,v,u,i,h,$]}class De extends X{constructor(e){super(),Z(this,e,Ue,we,x,{quizzes:0})}}function Ne(r){let e,t,a;return t=new De({props:{quizzes:r[0]}}),{c(){e=z("div"),V(t.$$.fragment),this.h()},l(s){e=g(s,"DIV",{class:!0});var o=E(e);H(t.$$.fragment,o),o.forEach(p),this.h()},h(){b(e,"class","container mx-auto")},m(s,o){w(s,e,o),L(t,e,null),a=!0},p(s,[o]){const l={};o&1&&(l.quizzes=s[0]),t.$set(l)},i(s){a||(M(t.$$.fragment,s),a=!0)},o(s){P(t.$$.fragment,s),a=!1},d(s){s&&p(e),R(t)}}}function Oe(r,e,t){let a;return pe(r,ge,s=>t(0,a=s)),[a]}class Le extends X{constructor(e){super(),Z(this,e,Oe,Ne,x,{})}}export{Le as default};
