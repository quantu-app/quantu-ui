import{S as se,i as ae,F as oe,k as g,q as T,a as w,w as j,l as k,m as q,r as D,h as m,c as B,x as F,n as v,b as A,K as h,y as K,U as M,V as le,a8 as ne,f as P,t as U,z as Y,D as ie,E as ce,u as Z,L as x}from"../../../../../chunks/index-169c4bf0.js";import{S as ee}from"../../../../../chunks/SortDirection-1f1310c1.js";import{g as ue}from"../../../../../chunks/navigation-2407bb7d.js";import{c as H}from"../../../../../chunks/shared-23917130.js";import{q as fe}from"../../../../../chunks/questions-c37682fa.js";import{p as de}from"../../../../../chunks/stores-6ae74fc8.js";function te(o,r,s){const l=o.slice();return l[5]=r[s],l}function re(o,r){let s,l,c=r[5].name+"",a,i,n,e=r[5].created_at.toLocaleString()+"",d,u,b,$;return{key:o,first:null,c(){s=g("tr"),l=g("td"),a=T(c),i=w(),n=g("td"),d=T(e),u=w(),this.h()},l(E){s=k(E,"TR",{class:!0});var _=q(s);l=k(_,"TD",{class:!0});var Q=q(l);a=D(Q,c),Q.forEach(m),i=B(_),n=k(_,"TD",{class:!0});var y=q(n);d=D(y,e),y.forEach(m),u=B(_),_.forEach(m),this.h()},h(){v(l,"class","border-b border-slate-100 dark:border-slate-700 p-1"),v(n,"class","border-b border-slate-100 dark:border-slate-700 p-1"),v(s,"class","hover:bg-gray-200 cursor-pointer"),this.first=s},m(E,_){A(E,s,_),h(s,l),h(l,a),h(s,i),h(s,n),h(n,d),h(s,u),b||($=M(s,"click",function(){ce(r[4](r[5]))&&r[4](r[5]).apply(this,arguments)}),b=!0)},p(E,_){r=E,_&1&&c!==(c=r[5].name+"")&&Z(a,c),_&1&&e!==(e=r[5].created_at.toLocaleString()+"")&&Z(d,e)},d(E){E&&m(s),b=!1,$()}}}function he(o){let r,s,l,c,a,i,n,e,d,u,b,$,E,_,Q,y,z=[],G=new Map,S,O,J;u=new ee({props:{sort:o[2]&&o[2][0]==="name",asc:o[2]&&o[2][1]===1}}),_=new ee({props:{sort:o[2]&&o[2][0]==="created_at",asc:o[2]&&o[2][1]===1}});let L=o[0];const W=t=>t[5].local_id;for(let t=0;t<L.length;t+=1){let f=te(o,L,t),p=W(f);G.set(p,z[t]=re(p,f))}return{c(){r=g("a"),s=T("Create Question"),c=w(),a=g("table"),i=g("thead"),n=g("tr"),e=g("th"),d=T("Name "),j(u.$$.fragment),b=w(),$=g("th"),E=T("Created At "),j(_.$$.fragment),Q=w(),y=g("tbody");for(let t=0;t<z.length;t+=1)z[t].c();this.h()},l(t){r=k(t,"A",{class:!0,href:!0});var f=q(r);s=D(f,"Create Question"),f.forEach(m),c=B(t),a=k(t,"TABLE",{class:!0});var p=q(a);i=k(p,"THEAD",{});var I=q(i);n=k(I,"TR",{});var C=q(n);e=k(C,"TH",{class:!0});var V=q(e);d=D(V,"Name "),F(u.$$.fragment,V),V.forEach(m),b=B(C),$=k(C,"TH",{class:!0});var N=q($);E=D(N,"Created At "),F(_.$$.fragment,N),N.forEach(m),C.forEach(m),I.forEach(m),Q=B(p),y=k(p,"TBODY",{});var X=q(y);for(let R=0;R<z.length;R+=1)z[R].l(X);X.forEach(m),p.forEach(m),this.h()},h(){v(r,"class","btn primary"),v(r,"href",l=`${H}/quizzes/${o[1]}/questions/create`),v(e,"class","border-b dark:border-slate-600 cursor-pointer select-none text-left p-1"),v($,"class","border-b dark:border-slate-600 cursor-pointer select-none text-left p-1"),v(a,"class","table-auto w-full")},m(t,f){A(t,r,f),h(r,s),A(t,c,f),A(t,a,f),h(a,i),h(i,n),h(n,e),h(e,d),K(u,e,null),h(n,b),h(n,$),h($,E),K(_,$,null),h(a,Q),h(a,y);for(let p=0;p<z.length;p+=1)z[p].m(y,null);S=!0,O||(J=[M(e,"click",o[3]("name")),M($,"click",o[3]("created_at"))],O=!0)},p(t,[f]){(!S||f&2&&l!==(l=`${H}/quizzes/${t[1]}/questions/create`))&&v(r,"href",l);const p={};f&4&&(p.sort=t[2]&&t[2][0]==="name"),f&4&&(p.asc=t[2]&&t[2][1]===1),u.$set(p);const I={};f&4&&(I.sort=t[2]&&t[2][0]==="created_at"),f&4&&(I.asc=t[2]&&t[2][1]===1),_.$set(I),f&17&&(L=t[0],z=le(z,f,W,1,t,L,G,y,ne,re,null,te))},i(t){S||(P(u.$$.fragment,t),P(_.$$.fragment,t),S=!0)},o(t){U(u.$$.fragment,t),U(_.$$.fragment,t),S=!1},d(t){t&&m(r),t&&m(c),t&&m(a),Y(u),Y(_);for(let f=0;f<z.length;f+=1)z[f].d();O=!1,ie(J)}}}function _e(o,r,s){let{localQuizId:l}=r,{questions:c}=r,a;function i(e){function d(u,b){return a&&a[1]===-1?u[e]<b[e]?-1:1:u[e]>b[e]?-1:1}return()=>{a&&a[0]===e?s(2,a=[e,-a[1]]):s(2,a=[e,1]),s(0,c=[...c].sort(d))}}function n(e){return async()=>{await ue(`${H}/${e.local_id}`)}}return o.$$set=e=>{"localQuizId"in e&&s(1,l=e.localQuizId),"questions"in e&&s(0,c=e.questions)},[c,l,a,i,n]}class me extends se{constructor(r){super(),ae(this,r,_e,he,oe,{localQuizId:1,questions:0})}}function pe(o){let r,s,l,c,a,i,n;return i=new me({props:{localQuizId:o[0],questions:o[1]}}),{c(){r=g("div"),s=g("div"),l=g("a"),c=T("Back"),a=w(),j(i.$$.fragment),this.h()},l(e){r=k(e,"DIV",{class:!0});var d=q(r);s=k(d,"DIV",{class:!0});var u=q(s);l=k(u,"A",{class:!0,href:!0});var b=q(l);c=D(b,"Back"),b.forEach(m),u.forEach(m),a=B(d),F(i.$$.fragment,d),d.forEach(m),this.h()},h(){v(l,"class","flex flex-shrink-1"),v(l,"href",`${H}/`),v(s,"class","flex justify-between"),v(r,"class","container mx-auto")},m(e,d){A(e,r,d),h(r,s),h(s,l),h(l,c),h(r,a),K(i,r,null),n=!0},p(e,[d]){const u={};d&1&&(u.localQuizId=e[0]),d&2&&(u.questions=e[1]),i.$set(u)},i(e){n||(P(i.$$.fragment,e),n=!0)},o(e){U(i.$$.fragment,e),n=!1},d(e){e&&m(r),Y(i)}}}function be(o,r,s){let l,c,a,i;return x(o,fe,n=>s(2,a=n)),x(o,de,n=>s(3,i=n)),o.$$.update=()=>{o.$$.dirty&8&&s(0,l=parseInt(i.params.local_quiz_id)),o.$$.dirty&5&&s(1,c=a[l]||[])},[l,c,a,i]}class ze extends se{constructor(r){super(),ae(this,r,be,pe,oe,{})}}export{ze as default};
