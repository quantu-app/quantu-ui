import{S as J,i as W,F as X,k as I,q as P,a as D,l as Q,m as q,r as S,h as m,c as N,n as h,b as w,K as _,a6 as ae,U as R,a7 as le,f as g,g as Y,t as B,d as Z,D as se,w as $,x,y as ee,z as te,L as K}from"../../../../../../../chunks/index-169c4bf0.js";import{c as M}from"../../../../../../../chunks/shared-23917130.js";import{p as ie}from"../../../../../../../chunks/stores-6ae74fc8.js";import{u as ne,a as oe}from"../../../../../../../chunks/questions-48363639.js";import{a as re}from"../../../../../../../chunks/quizzes-adab02fc.js";import{F as ue}from"../../../../../../../chunks/FlashCardEditor-e05a6603.js";function O(i){let t,l;return t=new ue({props:{data:i[0].data}}),t.$on("change",i[3]),{c(){$(t.$$.fragment)},l(e){x(t.$$.fragment,e)},m(e,o){ee(t,e,o),l=!0},p(e,o){const s={};o&1&&(s.data=e[0].data),t.$set(s)},i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){B(t.$$.fragment,e),l=!1},d(e){te(t,e)}}}function fe(i){let t,l,e,o,s,u,f,a,n,p,d,b,F,V,y,E,z,L,U,T,c=i[0].question_type==="flash_card"&&O(i);return{c(){t=I("h3"),l=P("Edit a Question"),e=D(),o=I("hr"),s=D(),u=I("form"),f=I("div"),a=I("label"),n=P("Name"),p=D(),d=I("input"),F=D(),c&&c.c(),V=D(),y=I("div"),E=I("div"),z=I("input"),this.h()},l(r){t=Q(r,"H3",{});var v=q(t);l=S(v,"Edit a Question"),v.forEach(m),e=N(r),o=Q(r,"HR",{}),s=N(r),u=Q(r,"FORM",{});var k=q(u);f=Q(k,"DIV",{});var C=q(f);a=Q(C,"LABEL",{for:!0});var j=q(a);n=S(j,"Name"),j.forEach(m),p=N(C),d=Q(C,"INPUT",{type:!0,class:!0,placeholder:!0,name:!0}),C.forEach(m),F=N(k),c&&c.l(k),V=N(k),y=Q(k,"DIV",{class:!0});var A=q(y);E=Q(A,"DIV",{class:!0});var H=q(E);z=Q(H,"INPUT",{type:!0,class:!0}),H.forEach(m),A.forEach(m),k.forEach(m),this.h()},h(){h(a,"for","name"),h(d,"type","text"),h(d,"class","mb-1"),h(d,"placeholder","Name"),h(d,"name","name"),d.value=b=i[0].name,h(z,"type","submit"),h(z,"class","btn primary"),z.value="Update Question",h(E,"class","flex"),h(y,"class","flex flex-column justify-end")},m(r,v){w(r,t,v),_(t,l),w(r,e,v),w(r,o,v),w(r,s,v),w(r,u,v),_(u,f),_(f,a),_(a,n),_(f,p),_(f,d),_(u,F),c&&c.m(u,null),_(u,V),_(u,y),_(y,E),_(E,z),L=!0,U||(T=[ae(re.call(null,d)),R(d,"change",i[2]),R(u,"submit",le(i[1]))],U=!0)},p(r,[v]){(!L||v&1&&b!==(b=r[0].name)&&d.value!==b)&&(d.value=b),r[0].question_type==="flash_card"?c?(c.p(r,v),v&1&&g(c,1)):(c=O(r),c.c(),g(c,1),c.m(u,V)):c&&(Y(),B(c,1,1,()=>{c=null}),Z())},i(r){L||(g(c),L=!0)},o(r){B(c),L=!1},d(r){r&&m(t),r&&m(e),r&&m(o),r&&m(s),r&&m(u),c&&c.d(),U=!1,se(T)}}}function ce(i,t,l){let{localQuizId:e}=t,{localQuestionId:o}=t,{question:s}=t;async function u(){await ne(e,o,s)}function f(n){l(0,s={...s,name:n.currentTarget.value})}function a(n){l(0,s={...s,data:n.detail})}return i.$$set=n=>{"localQuizId"in n&&l(4,e=n.localQuizId),"localQuestionId"in n&&l(5,o=n.localQuestionId),"question"in n&&l(0,s=n.question)},[s,u,f,a,e,o]}class de extends J{constructor(t){super(),W(this,t,ce,fe,X,{localQuizId:4,localQuestionId:5,question:0})}}function G(i){let t,l;return t=new de({props:{localQuizId:i[2],localQuestionId:i[0],question:i[1]}}),{c(){$(t.$$.fragment)},l(e){x(t.$$.fragment,e)},m(e,o){ee(t,e,o),l=!0},p(e,o){const s={};o&4&&(s.localQuizId=e[2]),o&1&&(s.localQuestionId=e[0]),o&2&&(s.question=e[1]),t.$set(s)},i(e){l||(g(t.$$.fragment,e),l=!0)},o(e){B(t.$$.fragment,e),l=!1},d(e){te(t,e)}}}function me(i){let t,l,e,o,s,u,f,a=i[1]&&G(i);return{c(){t=I("div"),l=I("div"),e=I("a"),o=P("Back"),u=D(),a&&a.c(),this.h()},l(n){t=Q(n,"DIV",{class:!0});var p=q(t);l=Q(p,"DIV",{class:!0});var d=q(l);e=Q(d,"A",{class:!0,href:!0});var b=q(e);o=S(b,"Back"),b.forEach(m),d.forEach(m),u=N(p),a&&a.l(p),p.forEach(m),this.h()},h(){h(e,"class","flex flex-shrink-1"),h(e,"href",s=`${M}/quizzes/${i[2]}`),h(l,"class","flex justify-between"),h(t,"class","container mx-auto")},m(n,p){w(n,t,p),_(t,l),_(l,e),_(e,o),_(t,u),a&&a.m(t,null),f=!0},p(n,[p]){(!f||p&4&&s!==(s=`${M}/quizzes/${n[2]}`))&&h(e,"href",s),n[1]?a?(a.p(n,p),p&2&&g(a,1)):(a=G(n),a.c(),g(a,1),a.m(t,null)):a&&(Y(),B(a,1,1,()=>{a=null}),Z())},i(n){f||(g(a),f=!0)},o(n){B(a),f=!1},d(n){n&&m(t),a&&a.d()}}}function _e(i,t,l){let e,o,s,u,f;return K(i,oe,a=>l(3,u=a)),K(i,ie,a=>l(4,f=a)),i.$$.update=()=>{i.$$.dirty&16&&l(2,e=parseInt(f.params.local_quiz_id)),i.$$.dirty&16&&l(0,o=parseInt(f.params.local_question_id)),i.$$.dirty&9&&l(1,s=u[o])},[o,s,e,u,f]}class be extends J{constructor(t){super(),W(this,t,_e,me,X,{})}}export{be as default};
