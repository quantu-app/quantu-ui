import{S as J,i as W,F as X,k as I,q as P,a as k,l as Q,m as q,r as S,h as _,c as D,n as h,b as w,K as p,a6 as ae,U as K,a7 as le,f as g,g as Y,t as N,d as Z,D as ne,w as x,x as $,y as ee,z as te,L as M}from"../../../../../../../chunks/index-169c4bf0.js";import{g as se}from"../../../../../../../chunks/navigation-2407bb7d.js";import{c as T}from"../../../../../../../chunks/shared-23917130.js";import{p as ie}from"../../../../../../../chunks/stores-6ae74fc8.js";import{u as oe,a as re}from"../../../../../../../chunks/questions-48363639.js";import{a as ue}from"../../../../../../../chunks/quizzes-adab02fc.js";import{F as fe}from"../../../../../../../chunks/FlashCardEditor-e05a6603.js";function O(s){let t,a;return t=new fe({props:{data:s[0].data}}),t.$on("change",s[3]),{c(){x(t.$$.fragment)},l(e){$(t.$$.fragment,e)},m(e,o){ee(t,e,o),a=!0},p(e,o){const i={};o&1&&(i.data=e[0].data),t.$set(i)},i(e){a||(g(t.$$.fragment,e),a=!0)},o(e){N(t.$$.fragment,e),a=!1},d(e){te(t,e)}}}function ce(s){let t,a,e,o,i,r,c,l,f,n,m,b,C,L,y,z,E,B,F,j,d=s[0].question_type==="flash_card"&&O(s);return{c(){t=I("h3"),a=P("Edit a Question"),e=k(),o=I("hr"),i=k(),r=I("form"),c=I("div"),l=I("label"),f=P("Name"),n=k(),m=I("input"),C=k(),d&&d.c(),L=k(),y=I("div"),z=I("div"),E=I("input"),this.h()},l(u){t=Q(u,"H3",{});var v=q(t);a=S(v,"Edit a Question"),v.forEach(_),e=D(u),o=Q(u,"HR",{}),i=D(u),r=Q(u,"FORM",{});var U=q(r);c=Q(U,"DIV",{});var V=q(c);l=Q(V,"LABEL",{for:!0});var A=q(l);f=S(A,"Name"),A.forEach(_),n=D(V),m=Q(V,"INPUT",{type:!0,class:!0,placeholder:!0,name:!0}),V.forEach(_),C=D(U),d&&d.l(U),L=D(U),y=Q(U,"DIV",{class:!0});var H=q(y);z=Q(H,"DIV",{class:!0});var R=q(z);E=Q(R,"INPUT",{type:!0,class:!0}),R.forEach(_),H.forEach(_),U.forEach(_),this.h()},h(){h(l,"for","name"),h(m,"type","text"),h(m,"class","mb-1"),h(m,"placeholder","Name"),h(m,"name","name"),m.value=b=s[0].name,h(E,"type","submit"),h(E,"class","btn primary"),E.value="Update Question",h(z,"class","flex"),h(y,"class","flex flex-column justify-end")},m(u,v){w(u,t,v),p(t,a),w(u,e,v),w(u,o,v),w(u,i,v),w(u,r,v),p(r,c),p(c,l),p(l,f),p(c,n),p(c,m),p(r,C),d&&d.m(r,null),p(r,L),p(r,y),p(y,z),p(z,E),B=!0,F||(j=[ae(ue.call(null,m)),K(m,"change",s[2]),K(r,"submit",le(s[1]))],F=!0)},p(u,[v]){(!B||v&1&&b!==(b=u[0].name)&&m.value!==b)&&(m.value=b),u[0].question_type==="flash_card"?d?(d.p(u,v),v&1&&g(d,1)):(d=O(u),d.c(),g(d,1),d.m(r,L)):d&&(Y(),N(d,1,1,()=>{d=null}),Z())},i(u){B||(g(d),B=!0)},o(u){N(d),B=!1},d(u){u&&_(t),u&&_(e),u&&_(o),u&&_(i),u&&_(r),d&&d.d(),F=!1,ne(j)}}}function de(s,t,a){let{localQuizId:e}=t,{localQuestionId:o}=t,{question:i}=t,{onUpdate:r}=t;async function c(){const n=await oe(e,o,i);r(n)}function l(n){a(0,i={...i,name:n.currentTarget.value})}function f(n){a(0,i={...i,data:n.detail})}return s.$$set=n=>{"localQuizId"in n&&a(4,e=n.localQuizId),"localQuestionId"in n&&a(5,o=n.localQuestionId),"question"in n&&a(0,i=n.question),"onUpdate"in n&&a(6,r=n.onUpdate)},[i,c,l,f,e,o,r]}class me extends J{constructor(t){super(),W(this,t,de,ce,X,{localQuizId:4,localQuestionId:5,question:0,onUpdate:6})}}function G(s){let t,a;return t=new me({props:{localQuizId:s[1],localQuestionId:s[0],question:s[2],onUpdate:s[3]}}),{c(){x(t.$$.fragment)},l(e){$(t.$$.fragment,e)},m(e,o){ee(t,e,o),a=!0},p(e,o){const i={};o&2&&(i.localQuizId=e[1]),o&1&&(i.localQuestionId=e[0]),o&4&&(i.question=e[2]),t.$set(i)},i(e){a||(g(t.$$.fragment,e),a=!0)},o(e){N(t.$$.fragment,e),a=!1},d(e){te(t,e)}}}function _e(s){let t,a,e,o,i,r,c,l=s[2]&&G(s);return{c(){t=I("div"),a=I("div"),e=I("a"),o=P("Back"),r=k(),l&&l.c(),this.h()},l(f){t=Q(f,"DIV",{class:!0});var n=q(t);a=Q(n,"DIV",{class:!0});var m=q(a);e=Q(m,"A",{class:!0,href:!0});var b=q(e);o=S(b,"Back"),b.forEach(_),m.forEach(_),r=D(n),l&&l.l(n),n.forEach(_),this.h()},h(){h(e,"class","flex flex-shrink-1"),h(e,"href",i=`${T}/quizzes/${s[1]}`),h(a,"class","flex justify-between"),h(t,"class","container mx-auto")},m(f,n){w(f,t,n),p(t,a),p(a,e),p(e,o),p(t,r),l&&l.m(t,null),c=!0},p(f,[n]){(!c||n&2&&i!==(i=`${T}/quizzes/${f[1]}`))&&h(e,"href",i),f[2]?l?(l.p(f,n),n&4&&g(l,1)):(l=G(f),l.c(),g(l,1),l.m(t,null)):l&&(Y(),N(l,1,1,()=>{l=null}),Z())},i(f){c||(g(l),c=!0)},o(f){N(l),c=!1},d(f){f&&_(t),l&&l.d()}}}function pe(s,t,a){let e,o,i,r,c;M(s,re,f=>a(4,r=f)),M(s,ie,f=>a(5,c=f));async function l(){await se(`${T}/quizzes/${e}`)}return s.$$.update=()=>{s.$$.dirty&32&&a(1,e=parseInt(c.params.local_quiz_id)),s.$$.dirty&32&&a(0,o=parseInt(c.params.local_question_id)),s.$$.dirty&17&&a(2,i=r[o])},[o,e,i,l,r,c]}class ye extends J{constructor(t){super(),W(this,t,pe,_e,X,{})}}export{ye as default};
