import{S as re,i as ae,F as oe,k as g,q as T,a as w,w as j,l as q,m as k,r as D,h as m,c as B,x as F,n as $,b as A,K as h,y as K,U as M,V as le,a8 as ne,f as P,t as U,z as Y,D as ie,E as ce,u as Z,L as x}from"../../../../../chunks/index-169c4bf0.js";import{S as ee}from"../../../../../chunks/SortDirection-1f1310c1.js";import{g as ue}from"../../../../../chunks/navigation-2407bb7d.js";import{c as H}from"../../../../../chunks/shared-23917130.js";import{q as fe}from"../../../../../chunks/questions-6347bbc8.js";import{p as de}from"../../../../../chunks/stores-6ae74fc8.js";function te(o,s,r){const l=o.slice();return l[5]=s[r],l}function se(o,s){let r,l,c=s[5].name+"",a,i,n,e=s[5].created_at.toLocaleString()+"",d,u,b,v;return{key:o,first:null,c(){r=g("tr"),l=g("td"),a=T(c),i=w(),n=g("td"),d=T(e),u=w(),this.h()},l(z){r=q(z,"TR",{class:!0});var _=k(r);l=q(_,"TD",{class:!0});var Q=k(l);a=D(Q,c),Q.forEach(m),i=B(_),n=q(_,"TD",{class:!0});var y=k(n);d=D(y,e),y.forEach(m),u=B(_),_.forEach(m),this.h()},h(){$(l,"class","border-b border-slate-100 dark:border-slate-700 p-1"),$(n,"class","border-b border-slate-100 dark:border-slate-700 p-1"),$(r,"class","hover:bg-gray-200 cursor-pointer"),this.first=r},m(z,_){A(z,r,_),h(r,l),h(l,a),h(r,i),h(r,n),h(n,d),h(r,u),b||(v=M(r,"click",function(){ce(s[4](s[5]))&&s[4](s[5]).apply(this,arguments)}),b=!0)},p(z,_){s=z,_&1&&c!==(c=s[5].name+"")&&Z(a,c),_&1&&e!==(e=s[5].created_at.toLocaleString()+"")&&Z(d,e)},d(z){z&&m(r),b=!1,v()}}}function he(o){let s,r,l,c,a,i,n,e,d,u,b,v,z,_,Q,y,E=[],G=new Map,S,O,J;u=new ee({props:{sort:o[2]&&o[2][0]==="name",asc:o[2]&&o[2][1]===1}}),_=new ee({props:{sort:o[2]&&o[2][0]==="created_at",asc:o[2]&&o[2][1]===1}});let L=o[0];const W=t=>t[5].local_id;for(let t=0;t<L.length;t+=1){let f=te(o,L,t),p=W(f);G.set(p,E[t]=se(p,f))}return{c(){s=g("a"),r=T("Create Question"),c=w(),a=g("table"),i=g("thead"),n=g("tr"),e=g("th"),d=T("Name "),j(u.$$.fragment),b=w(),v=g("th"),z=T("Created At "),j(_.$$.fragment),Q=w(),y=g("tbody");for(let t=0;t<E.length;t+=1)E[t].c();this.h()},l(t){s=q(t,"A",{class:!0,href:!0});var f=k(s);r=D(f,"Create Question"),f.forEach(m),c=B(t),a=q(t,"TABLE",{class:!0});var p=k(a);i=q(p,"THEAD",{});var I=k(i);n=q(I,"TR",{});var C=k(n);e=q(C,"TH",{class:!0});var V=k(e);d=D(V,"Name "),F(u.$$.fragment,V),V.forEach(m),b=B(C),v=q(C,"TH",{class:!0});var N=k(v);z=D(N,"Created At "),F(_.$$.fragment,N),N.forEach(m),C.forEach(m),I.forEach(m),Q=B(p),y=q(p,"TBODY",{});var X=k(y);for(let R=0;R<E.length;R+=1)E[R].l(X);X.forEach(m),p.forEach(m),this.h()},h(){$(s,"class","btn primary"),$(s,"href",l=`${H}/quizzes/${o[1]}/questions/create`),$(e,"class","border-b dark:border-slate-600 cursor-pointer select-none text-left p-1"),$(v,"class","border-b dark:border-slate-600 cursor-pointer select-none text-left p-1"),$(a,"class","table-auto w-full")},m(t,f){A(t,s,f),h(s,r),A(t,c,f),A(t,a,f),h(a,i),h(i,n),h(n,e),h(e,d),K(u,e,null),h(n,b),h(n,v),h(v,z),K(_,v,null),h(a,Q),h(a,y);for(let p=0;p<E.length;p+=1)E[p].m(y,null);S=!0,O||(J=[M(e,"click",o[3]("name")),M(v,"click",o[3]("created_at"))],O=!0)},p(t,[f]){(!S||f&2&&l!==(l=`${H}/quizzes/${t[1]}/questions/create`))&&$(s,"href",l);const p={};f&4&&(p.sort=t[2]&&t[2][0]==="name"),f&4&&(p.asc=t[2]&&t[2][1]===1),u.$set(p);const I={};f&4&&(I.sort=t[2]&&t[2][0]==="created_at"),f&4&&(I.asc=t[2]&&t[2][1]===1),_.$set(I),f&17&&(L=t[0],E=le(E,f,W,1,t,L,G,y,ne,se,null,te))},i(t){S||(P(u.$$.fragment,t),P(_.$$.fragment,t),S=!0)},o(t){U(u.$$.fragment,t),U(_.$$.fragment,t),S=!1},d(t){t&&m(s),t&&m(c),t&&m(a),Y(u),Y(_);for(let f=0;f<E.length;f+=1)E[f].d();O=!1,ie(J)}}}function _e(o,s,r){let{localQuizId:l}=s,{questions:c}=s,a;function i(e){function d(u,b){return a&&a[1]===-1?u[e]<b[e]?-1:1:u[e]>b[e]?-1:1}return()=>{a&&a[0]===e?r(2,a=[e,-a[1]]):r(2,a=[e,1]),r(0,c=[...c].sort(d))}}function n(e){return async()=>{await ue(`${H}/quizzes/${l}/questions/${e.local_id}`)}}return o.$$set=e=>{"localQuizId"in e&&r(1,l=e.localQuizId),"questions"in e&&r(0,c=e.questions)},[c,l,a,i,n]}class me extends re{constructor(s){super(),ae(this,s,_e,he,oe,{localQuizId:1,questions:0})}}function pe(o){let s,r,l,c,a,i,n;return i=new me({props:{localQuizId:o[0],questions:o[1]}}),{c(){s=g("div"),r=g("div"),l=g("a"),c=T("Back"),a=w(),j(i.$$.fragment),this.h()},l(e){s=q(e,"DIV",{class:!0});var d=k(s);r=q(d,"DIV",{class:!0});var u=k(r);l=q(u,"A",{class:!0,href:!0});var b=k(l);c=D(b,"Back"),b.forEach(m),u.forEach(m),a=B(d),F(i.$$.fragment,d),d.forEach(m),this.h()},h(){$(l,"class","flex flex-shrink-1"),$(l,"href",`${H}/`),$(r,"class","flex justify-between"),$(s,"class","container mx-auto")},m(e,d){A(e,s,d),h(s,r),h(r,l),h(l,c),h(s,a),K(i,s,null),n=!0},p(e,[d]){const u={};d&1&&(u.localQuizId=e[0]),d&2&&(u.questions=e[1]),i.$set(u)},i(e){n||(P(i.$$.fragment,e),n=!0)},o(e){U(i.$$.fragment,e),n=!1},d(e){e&&m(s),Y(i)}}}function be(o,s,r){let l,c,a,i;return x(o,fe,n=>r(2,a=n)),x(o,de,n=>r(3,i=n)),o.$$.update=()=>{o.$$.dirty&8&&r(0,l=parseInt(i.params.local_quiz_id)),o.$$.dirty&5&&r(1,c=a[l]||[])},[l,c,a,i]}class Ee extends re{constructor(s){super(),ae(this,s,be,pe,oe,{})}}export{Ee as default};
