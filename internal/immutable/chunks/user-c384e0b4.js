var H=Object.defineProperty;var X=(i,e,t)=>e in i?H(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var I=(i,e,t)=>(X(i,typeof e!="symbol"?e+"":e,t),t);import{w as P,d as L}from"./index-35f43e1d.js";import{a1 as _}from"./index-6adb3884.js";const b={};function Y(i){return i}function Z(i){return i}function U(i,e,t={}){const n=typeof window<"u"&&typeof window.localStorage<"u",r=t.toJSON||Z,o=t.fromJSON||Y;function c(h,p){return n&&window.localStorage.setItem(h,JSON.stringify(r(p))),p}if(!b[i]){let u=function(s){c(i,s),a(s)};const h=P(e,s=>{const g=n?window.localStorage.getItem(i):null;if(g&&s(o(JSON.parse(g))),n){let z=function(l){l.key===i&&s(l.newValue?o(JSON.parse(l.newValue)):null)};return window.addEventListener("storage",z),()=>{window.removeEventListener("storage",z)}}}),{subscribe:p,set:a}=h;b[i]={set:u,update(s){u(s(_(h)))},subscribe:p}}return b[i]}var O={},j={get exports(){return O},set exports(i){O=i}};(function(i){var e=Object.prototype.hasOwnProperty,t="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(t=!1));function r(p,a,u){this.fn=p,this.context=a,this.once=u||!1}function o(p,a,u,s,g){if(typeof u!="function")throw new TypeError("The listener must be a function");var z=new r(u,s||p,g),l=t?t+a:a;return p._events[l]?p._events[l].fn?p._events[l]=[p._events[l],z]:p._events[l].push(z):(p._events[l]=z,p._eventsCount++),p}function c(p,a){--p._eventsCount===0?p._events=new n:delete p._events[a]}function h(){this._events=new n,this._eventsCount=0}h.prototype.eventNames=function(){var a=[],u,s;if(this._eventsCount===0)return a;for(s in u=this._events)e.call(u,s)&&a.push(t?s.slice(1):s);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(u)):a},h.prototype.listeners=function(a){var u=t?t+a:a,s=this._events[u];if(!s)return[];if(s.fn)return[s.fn];for(var g=0,z=s.length,l=new Array(z);g<z;g++)l[g]=s[g].fn;return l},h.prototype.listenerCount=function(a){var u=t?t+a:a,s=this._events[u];return s?s.fn?1:s.length:0},h.prototype.emit=function(a,u,s,g,z,l){var y=t?t+a:a;if(!this._events[y])return!1;var d=this._events[y],A=arguments.length,m,f;if(d.fn){switch(d.once&&this.removeListener(a,d.fn,void 0,!0),A){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,u),!0;case 3:return d.fn.call(d.context,u,s),!0;case 4:return d.fn.call(d.context,u,s,g),!0;case 5:return d.fn.call(d.context,u,s,g,z),!0;case 6:return d.fn.call(d.context,u,s,g,z,l),!0}for(f=1,m=new Array(A-1);f<A;f++)m[f-1]=arguments[f];d.fn.apply(d.context,m)}else{var W=d.length,v;for(f=0;f<W;f++)switch(d[f].once&&this.removeListener(a,d[f].fn,void 0,!0),A){case 1:d[f].fn.call(d[f].context);break;case 2:d[f].fn.call(d[f].context,u);break;case 3:d[f].fn.call(d[f].context,u,s);break;case 4:d[f].fn.call(d[f].context,u,s,g);break;default:if(!m)for(v=1,m=new Array(A-1);v<A;v++)m[v-1]=arguments[v];d[f].fn.apply(d[f].context,m)}}return!0},h.prototype.on=function(a,u,s){return o(this,a,u,s,!1)},h.prototype.once=function(a,u,s){return o(this,a,u,s,!0)},h.prototype.removeListener=function(a,u,s,g){var z=t?t+a:a;if(!this._events[z])return this;if(!u)return c(this,z),this;var l=this._events[z];if(l.fn)l.fn===u&&(!g||l.once)&&(!s||l.context===s)&&c(this,z);else{for(var y=0,d=[],A=l.length;y<A;y++)(l[y].fn!==u||g&&!l[y].once||s&&l[y].context!==s)&&d.push(l[y]);d.length?this._events[z]=d.length===1?d[0]:d:c(this,z)}return this},h.prototype.removeAllListeners=function(a){var u;return a?(u=t?t+a:a,this._events[u]&&c(this,u)):(this._events=new n,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=t,h.EventEmitter=h,i.exports=h})(j);const J=O,$=new J,M=P(typeof navigator=="object"?navigator.onLine:!1),ee=L(M,i=>i);function ie(){return _(ee)}function te(){M.set(!0),$.emit("online")}function ne(){M.set(!1),$.emit("offline")}typeof window=="object"&&(window.addEventListener("online",te),window.addEventListener("offline",ne));const re="http://localhost:3000".replace(/\/+$/,"");class S{constructor(e={}){this.configuration=e}set config(e){this.configuration=e}get basePath(){return this.configuration.basePath!=null?this.configuration.basePath:re}get fetchApi(){return this.configuration.fetchApi}get middleware(){return this.configuration.middleware||[]}get queryParamsStringify(){return this.configuration.queryParamsStringify||F}get username(){return this.configuration.username}get password(){return this.configuration.password}get apiKey(){const e=this.configuration.apiKey;if(e)return typeof e=="function"?e:()=>e}get accessToken(){const e=this.configuration.accessToken;if(e)return typeof e=="function"?e:async()=>e}get headers(){return this.configuration.headers}get credentials(){return this.configuration.credentials}}const oe=new S;class D{constructor(e=oe){I(this,"middleware");I(this,"fetchApi",async(e,t)=>{let n={url:e,init:t};for(const o of this.middleware)o.pre&&(n=await o.pre({fetch:this.fetchApi,...n})||n);let r;try{r=await(this.configuration.fetchApi||fetch)(n.url,n.init)}catch(o){for(const c of this.middleware)c.onError&&(r=await c.onError({fetch:this.fetchApi,url:n.url,init:n.init,error:o,response:r?r.clone():void 0})||r);if(r===void 0)throw o instanceof Error?new de(o,"The request failed and the interceptors did not return an alternative response"):o}for(const o of this.middleware)o.post&&(r=await o.post({fetch:this.fetchApi,url:n.url,init:n.init,response:r.clone()})||r);return r});this.configuration=e,this.middleware=e.middleware}withMiddleware(...e){const t=this.clone();return t.middleware=t.middleware.concat(...e),t}withPreMiddleware(...e){const t=e.map(n=>({pre:n}));return this.withMiddleware(...t)}withPostMiddleware(...e){const t=e.map(n=>({post:n}));return this.withMiddleware(...t)}async request(e,t){const{url:n,init:r}=await this.createFetchParams(e,t),o=await this.fetchApi(n,r);if(o&&o.status>=200&&o.status<300)return o;throw new ue(o,"Response returned an error code")}async createFetchParams(e,t){let n=this.configuration.basePath+e.path;e.query!==void 0&&Object.keys(e.query).length!==0&&(n+="?"+this.configuration.queryParamsStringify(e.query));const r=Object.assign({},this.configuration.headers,e.headers);Object.keys(r).forEach(a=>r[a]===void 0?delete r[a]:{});const o=typeof t=="function"?t:async()=>t,c={method:e.method,headers:r,body:e.body,credentials:this.configuration.credentials},h={...c,...await o({init:c,context:e})},p={...h,body:ae(h.body)||h.body instanceof URLSearchParams||se(h.body)?h.body:JSON.stringify(h.body)};return{url:n,init:p}}clone(){const e=this.constructor,t=new e(this.configuration);return t.middleware=this.middleware.slice(),t}}function se(i){return typeof Blob<"u"&&i instanceof Blob}function ae(i){return typeof FormData<"u"&&i instanceof FormData}class ue extends Error{constructor(t,n){super(n);I(this,"name","ResponseError");this.response=t}}class de extends Error{constructor(t,n){super(n);I(this,"name","FetchError");this.cause=t}}class w extends Error{constructor(t,n){super(n);I(this,"name","RequiredError");this.field=t}}function F(i,e=""){return Object.keys(i).map(t=>x(t,i[t],e)).filter(t=>t.length>0).join("&")}function x(i,e,t=""){const n=t+(t.length?`[${i}]`:i);if(e instanceof Array){const r=e.map(o=>encodeURIComponent(String(o))).join(`&${encodeURIComponent(n)}=`);return`${encodeURIComponent(n)}=${r}`}if(e instanceof Set){const r=Array.from(e);return x(i,r,t)}return e instanceof Date?`${encodeURIComponent(n)}=${encodeURIComponent(e.toISOString())}`:e instanceof Object?F(e,n):`${encodeURIComponent(n)}=${encodeURIComponent(String(e))}`}class Q{constructor(e,t=n=>n){this.raw=e,this.transformer=t}async value(){return this.transformer(await this.raw.json())}}class N{constructor(e){this.raw=e}async value(){}}function q(i){return ce(i)}function ce(i,e){return i==null?i:{id:i.id,name:i.name,uri:i.uri,question_type:i.question_type,item_order:i.item_order,data:i.data,created_at:new Date(i.created_at),updated_at:new Date(i.updated_at)}}function pe(i){return he(i)}function he(i,e){return i==null?i:{moved_question:q(i.moved_question),other_questions:i.other_questions.map(q)}}function R(i){return le(i)}function le(i,e){return i==null?i:{id:i.id,name:i.name,uri:i.uri,created_at:new Date(i.created_at),updated_at:new Date(i.updated_at)}}function fe(i){return ze(i)}function ze(i,e){return i==null?i:{token:i.token,exp:i.exp}}function we(i){return ge(i)}function ge(i,e){return i==null?i:{id:i.id,email:i.email,username:i.username,created_at:new Date(i.created_at),updated_at:new Date(i.updated_at)}}function Qe(i){if(i!==void 0)return i===null?null:{name:i.name}}function ye(i){if(i!==void 0)return i===null?null:{name:i.name,item_order_position:i.item_order_position,question_type:i.question_type}}function Ae(i){if(i!==void 0)return i===null?null:{item_order_position:i.item_order_position}}function me(i){if(i!==void 0)return i===null?null:{email:i.email,password:i.password}}function Ie(i){if(i!==void 0)return i===null?null:{name:i.name}}function qe(i){if(i!==void 0)return i===null?null:{name:i.name,item_order_position:i.item_order_position,question_type:i.question_type}}class ve extends D{async getApiAuthMeRaw(e){const t={},n={};this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization"));const r=await this.request({path:"/api/auth/me",method:"GET",headers:n,query:t},e);return new Q(r,o=>we(o))}async getApiAuthMe(e){return await(await this.getApiAuthMeRaw(e)).value()}async postApiAuthLoginRaw(e,t){if(e.postApiAuthLogin===null||e.postApiAuthLogin===void 0)throw new w("postApiAuthLogin","Required parameter requestParameters.postApiAuthLogin was null or undefined when calling postApiAuthLogin.");const n={},r={};r["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(r.Authorization=this.configuration.apiKey("Authorization"));const o=await this.request({path:"/api/auth/login",method:"POST",headers:r,query:n,body:me(e.postApiAuthLogin)},t);return new Q(o,c=>fe(c))}async postApiAuthLogin(e,t){return await(await this.postApiAuthLoginRaw(e,t)).value()}}class _e extends D{async deleteApiQuizzesIdRaw(e,t){if(e.id===null||e.id===void 0)throw new w("id","Required parameter requestParameters.id was null or undefined when calling deleteApiQuizzesId.");const n={},r={};this.configuration&&this.configuration.apiKey&&(r.Authorization=this.configuration.apiKey("Authorization"));const o=await this.request({path:"/api/quizzes/{id}".replace("{id}",encodeURIComponent(String(e.id))),method:"DELETE",headers:r,query:n},t);return new N(o)}async deleteApiQuizzesId(e,t){await this.deleteApiQuizzesIdRaw(e,t)}async deleteApiQuizzesQuizIdQuestionsIdRaw(e,t){if(e.quizId===null||e.quizId===void 0)throw new w("quizId","Required parameter requestParameters.quizId was null or undefined when calling deleteApiQuizzesQuizIdQuestionsId.");if(e.id===null||e.id===void 0)throw new w("id","Required parameter requestParameters.id was null or undefined when calling deleteApiQuizzesQuizIdQuestionsId.");const n={},r={};this.configuration&&this.configuration.apiKey&&(r.Authorization=this.configuration.apiKey("Authorization"));const o=await this.request({path:"/api/quizzes/{quiz_id}/questions/{id}".replace("{quiz_id}",encodeURIComponent(String(e.quizId))).replace("{id}",encodeURIComponent(String(e.id))),method:"DELETE",headers:r,query:n},t);return new N(o)}async deleteApiQuizzesQuizIdQuestionsId(e,t){await this.deleteApiQuizzesQuizIdQuestionsIdRaw(e,t)}async getApiQuizzesRaw(e){const t={},n={};this.configuration&&this.configuration.apiKey&&(n.Authorization=this.configuration.apiKey("Authorization"));const r=await this.request({path:"/api/quizzes",method:"GET",headers:n,query:t},e);return new Q(r,o=>o.map(R))}async getApiQuizzes(e){return await(await this.getApiQuizzesRaw(e)).value()}async getApiQuizzesIdRaw(e,t){if(e.id===null||e.id===void 0)throw new w("id","Required parameter requestParameters.id was null or undefined when calling getApiQuizzesId.");const n={},r={};this.configuration&&this.configuration.apiKey&&(r.Authorization=this.configuration.apiKey("Authorization"));const o=await this.request({path:"/api/quizzes/{id}".replace("{id}",encodeURIComponent(String(e.id))),method:"GET",headers:r,query:n},t);return new Q(o,c=>R(c))}async getApiQuizzesId(e,t){return await(await this.getApiQuizzesIdRaw(e,t)).value()}async getApiQuizzesQuizIdQuestionsRaw(e,t){if(e.quizId===null||e.quizId===void 0)throw new w("quizId","Required parameter requestParameters.quizId was null or undefined when calling getApiQuizzesQuizIdQuestions.");const n={},r={};this.configuration&&this.configuration.apiKey&&(r.Authorization=this.configuration.apiKey("Authorization"));const o=await this.request({path:"/api/quizzes/{quiz_id}/questions".replace("{quiz_id}",encodeURIComponent(String(e.quizId))),method:"GET",headers:r,query:n},t);return new Q(o,c=>c.map(q))}async getApiQuizzesQuizIdQuestions(e,t){return await(await this.getApiQuizzesQuizIdQuestionsRaw(e,t)).value()}async getApiQuizzesQuizIdQuestionsIdRaw(e,t){if(e.quizId===null||e.quizId===void 0)throw new w("quizId","Required parameter requestParameters.quizId was null or undefined when calling getApiQuizzesQuizIdQuestionsId.");if(e.id===null||e.id===void 0)throw new w("id","Required parameter requestParameters.id was null or undefined when calling getApiQuizzesQuizIdQuestionsId.");const n={},r={};this.configuration&&this.configuration.apiKey&&(r.Authorization=this.configuration.apiKey("Authorization"));const o=await this.request({path:"/api/quizzes/{quiz_id}/questions/{id}".replace("{quiz_id}",encodeURIComponent(String(e.quizId))).replace("{id}",encodeURIComponent(String(e.id))),method:"GET",headers:r,query:n},t);return new Q(o,c=>q(c))}async getApiQuizzesQuizIdQuestionsId(e,t){return await(await this.getApiQuizzesQuizIdQuestionsIdRaw(e,t)).value()}async patchApiQuizzesIdRaw(e,t){if(e.id===null||e.id===void 0)throw new w("id","Required parameter requestParameters.id was null or undefined when calling patchApiQuizzesId.");if(e.patchApiQuizzesId===null||e.patchApiQuizzesId===void 0)throw new w("patchApiQuizzesId","Required parameter requestParameters.patchApiQuizzesId was null or undefined when calling patchApiQuizzesId.");const n={},r={};r["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(r.Authorization=this.configuration.apiKey("Authorization"));const o=await this.request({path:"/api/quizzes/{id}".replace("{id}",encodeURIComponent(String(e.id))),method:"PATCH",headers:r,query:n,body:Qe(e.patchApiQuizzesId)},t);return new Q(o,c=>R(c))}async patchApiQuizzesId(e,t){return await(await this.patchApiQuizzesIdRaw(e,t)).value()}async patchApiQuizzesQuizIdQuestionsIdRaw(e,t){if(e.quizId===null||e.quizId===void 0)throw new w("quizId","Required parameter requestParameters.quizId was null or undefined when calling patchApiQuizzesQuizIdQuestionsId.");if(e.id===null||e.id===void 0)throw new w("id","Required parameter requestParameters.id was null or undefined when calling patchApiQuizzesQuizIdQuestionsId.");if(e.patchApiQuizzesQuizIdQuestionsId===null||e.patchApiQuizzesQuizIdQuestionsId===void 0)throw new w("patchApiQuizzesQuizIdQuestionsId","Required parameter requestParameters.patchApiQuizzesQuizIdQuestionsId was null or undefined when calling patchApiQuizzesQuizIdQuestionsId.");const n={},r={};r["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(r.Authorization=this.configuration.apiKey("Authorization"));const o=await this.request({path:"/api/quizzes/{quiz_id}/questions/{id}".replace("{quiz_id}",encodeURIComponent(String(e.quizId))).replace("{id}",encodeURIComponent(String(e.id))),method:"PATCH",headers:r,query:n,body:ye(e.patchApiQuizzesQuizIdQuestionsId)},t);return new Q(o,c=>q(c))}async patchApiQuizzesQuizIdQuestionsId(e,t){return await(await this.patchApiQuizzesQuizIdQuestionsIdRaw(e,t)).value()}async patchApiQuizzesQuizIdQuestionsIdMoveRaw(e,t){if(e.quizId===null||e.quizId===void 0)throw new w("quizId","Required parameter requestParameters.quizId was null or undefined when calling patchApiQuizzesQuizIdQuestionsIdMove.");if(e.id===null||e.id===void 0)throw new w("id","Required parameter requestParameters.id was null or undefined when calling patchApiQuizzesQuizIdQuestionsIdMove.");if(e.patchApiQuizzesQuizIdQuestionsIdMove===null||e.patchApiQuizzesQuizIdQuestionsIdMove===void 0)throw new w("patchApiQuizzesQuizIdQuestionsIdMove","Required parameter requestParameters.patchApiQuizzesQuizIdQuestionsIdMove was null or undefined when calling patchApiQuizzesQuizIdQuestionsIdMove.");const n={},r={};r["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(r.Authorization=this.configuration.apiKey("Authorization"));const o=await this.request({path:"/api/quizzes/{quiz_id}/questions/{id}/move".replace("{quiz_id}",encodeURIComponent(String(e.quizId))).replace("{id}",encodeURIComponent(String(e.id))),method:"PATCH",headers:r,query:n,body:Ae(e.patchApiQuizzesQuizIdQuestionsIdMove)},t);return new Q(o,c=>pe(c))}async patchApiQuizzesQuizIdQuestionsIdMove(e,t){return await(await this.patchApiQuizzesQuizIdQuestionsIdMoveRaw(e,t)).value()}async postApiQuizzesRaw(e,t){if(e.postApiQuizzes===null||e.postApiQuizzes===void 0)throw new w("postApiQuizzes","Required parameter requestParameters.postApiQuizzes was null or undefined when calling postApiQuizzes.");const n={},r={};r["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(r.Authorization=this.configuration.apiKey("Authorization"));const o=await this.request({path:"/api/quizzes",method:"POST",headers:r,query:n,body:Ie(e.postApiQuizzes)},t);return new Q(o,c=>R(c))}async postApiQuizzes(e,t){return await(await this.postApiQuizzesRaw(e,t)).value()}async postApiQuizzesQuizIdQuestionsRaw(e,t){if(e.quizId===null||e.quizId===void 0)throw new w("quizId","Required parameter requestParameters.quizId was null or undefined when calling postApiQuizzesQuizIdQuestions.");if(e.postApiQuizzesQuizIdQuestions===null||e.postApiQuizzesQuizIdQuestions===void 0)throw new w("postApiQuizzesQuizIdQuestions","Required parameter requestParameters.postApiQuizzesQuizIdQuestions was null or undefined when calling postApiQuizzesQuizIdQuestions.");const n={},r={};r["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey&&(r.Authorization=this.configuration.apiKey("Authorization"));const o=await this.request({path:"/api/quizzes/{quiz_id}/questions".replace("{quiz_id}",encodeURIComponent(String(e.quizId))),method:"POST",headers:r,query:n,body:qe(e.postApiQuizzesQuizIdQuestions)},t);return new Q(o,c=>q(c))}async postApiQuizzesQuizIdQuestions(e,t){return await(await this.postApiQuizzesQuizIdQuestionsRaw(e,t)).value()}}const K={basePath:{}.VITE_QUANTU_API_URL},E=new S(K),Oe=new _e(E),T=new ve(E),k=U("jwt",null),B=U("user",null,{fromJSON(i){return{...i,updated_at:new Date(i.updated_at),created_at:new Date(i.created_at)}}}),G=L(B,i=>i);function Re(i){k.set(i),E.config=new S({...K,apiKey:i.token})}async function Te(i,e){const t=await T.postApiAuthLogin({postApiAuthLogin:{email:i,password:e}});Re(t);const n=await T.getApiAuthMe();return B.set(n),n}async function Ce(){if(C){const i=_(G);if(i)return i}return new Promise(i=>V.once("user",i))}const V=new J;let C=!1;async function Me(){let i=_(G);if(ie()&&!C){const e=_(k);C=!0,e&&(E.config=new S({...K,apiKey:e.token}),i=await T.getApiAuthMe())}return i&&V.emit("user",i),i}export{J as E,ie as a,Me as i,Oe as q,Te as s,Ce as w};
