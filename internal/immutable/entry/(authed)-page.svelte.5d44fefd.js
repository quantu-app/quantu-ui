import{S as K,b as X,G as Z,A as ie,a3 as fe,m as b,w as F,c as C,C as A,p as g,q as v,x as G,k as h,d as I,D as B,u as _,f as U,L as p,E as H,V as L,a4 as ce,j as M,g as S,F as V,a5 as J,a6 as de,a7 as se,r as x,n as me,z as _e,W as be,a8 as ge,h as $e,i as re,y as ne,M as ze}from"../chunks/index.18be049c.js";import{c as ve,u as Ee,M as ke,d as Te,q as we}from"../chunks/MdDelete.6097f399.js";import{a as pe}from"../chunks/IconBase.94ec7e8b.js";import{M as he,a as ye}from"../chunks/MdEdit.340e597c.js";import{S as le}from"../chunks/SortDirection.f70f5f76.js";import{b as Qe}from"../chunks/paths.a58a3b01.js";function qe(n){let e,t,a,s,l,r,c,m,z;return{c(){e=b("form"),t=b("input"),a=C(),s=b("div"),l=b("div"),r=b("input"),this.h()},l(u){e=g(u,"FORM",{});var i=v(e);t=g(i,"INPUT",{type:!0,class:!0,placeholder:!0}),a=I(i),s=g(i,"DIV",{class:!0});var f=v(s);l=g(f,"DIV",{class:!0});var $=v(l);r=g($,"INPUT",{type:!0,class:!0}),$.forEach(h),f.forEach(h),i.forEach(h),this.h()},h(){_(t,"type","text"),_(t,"class","mb-1"),_(t,"placeholder","Name"),_(r,"type","submit"),_(r,"class","btn primary"),r.value="Create Quiz",r.disabled=c=!n[0],_(l,"class","flex"),_(s,"class","flex flex-column justify-end")},m(u,i){U(u,e,i),p(e,t),J(t,n[0]),p(e,a),p(e,s),p(s,l),p(l,r),m||(z=[de(pe.call(null,t)),L(t,"input",n[4]),L(e,"submit",se(n[2]))],m=!0)},p(u,i){i&1&&t.value!==u[0]&&J(t,u[0]),i&1&&c!==(c=!u[0])&&(r.disabled=c)},d(u){u&&h(e),m=!1,x(z)}}}function Ce(n){let e,t;return{c(){e=b("h3"),t=F("Create a Quiz"),this.h()},l(a){e=g(a,"H3",{slot:!0});var s=v(e);t=G(s,"Create a Quiz"),s.forEach(h),this.h()},h(){_(e,"slot","title")},m(a,s){U(a,e,s),p(e,t)},p:me,d(a){a&&h(e)}}}function Ie(n){let e,t,a,s,l,r,c,m;function z(i){n[5](i)}let u={$$slots:{title:[Ce],default:[qe]},$$scope:{ctx:n}};return n[1]!==void 0&&(u.open=n[1]),s=new he({props:u}),ie.push(()=>fe(s,"open",z)),{c(){e=b("button"),t=F("Create Quiz"),a=C(),A(s.$$.fragment),this.h()},l(i){e=g(i,"BUTTON",{class:!0});var f=v(e);t=G(f,"Create Quiz"),f.forEach(h),a=I(i),B(s.$$.fragment,i),this.h()},h(){_(e,"class","btn primary")},m(i,f){U(i,e,f),p(e,t),U(i,a,f),H(s,i,f),r=!0,c||(m=L(e,"click",n[3]),c=!0)},p(i,[f]){const $={};f&65&&($.$$scope={dirty:f,ctx:i}),!l&&f&2&&(l=!0,$.open=i[1],ce(()=>l=!1)),s.$set($)},i(i){r||(M(s.$$.fragment,i),r=!0)},o(i){S(s.$$.fragment,i),r=!1},d(i){i&&h(e),i&&h(a),V(s,i),c=!1,m()}}}function De(n,e,t){let a;async function s(){await ve({name:a}),t(0,a=""),t(1,l=!1)}let l=!1;function r(){t(1,l=!0)}function c(){a=this.value,t(0,a)}function m(z){l=z,t(1,l)}return[a,l,s,r,c,m]}class Ue extends K{constructor(e){super(),X(this,e,De,Ie,Z,{})}}function Ne(n){let e,t,a,s,l,r,c,m,z;return{c(){e=b("form"),t=b("input"),a=C(),s=b("div"),l=b("div"),r=b("input"),this.h()},l(u){e=g(u,"FORM",{});var i=v(e);t=g(i,"INPUT",{type:!0,class:!0,placeholder:!0}),a=I(i),s=g(i,"DIV",{class:!0});var f=v(s);l=g(f,"DIV",{class:!0});var $=v(l);r=g($,"INPUT",{type:!0,class:!0}),$.forEach(h),f.forEach(h),i.forEach(h),this.h()},h(){_(t,"type","text"),_(t,"class","mb-1"),_(t,"placeholder","Name"),_(r,"type","submit"),_(r,"class","btn primary"),r.value="Update Quiz",r.disabled=c=!n[0],_(l,"class","flex"),_(s,"class","flex flex-column justify-end")},m(u,i){U(u,e,i),p(e,t),J(t,n[0]),p(e,a),p(e,s),p(s,l),p(l,r),m||(z=[de(pe.call(null,t)),L(t,"input",n[5]),L(e,"submit",se(n[3]))],m=!0)},p(u,i){i&1&&t.value!==u[0]&&J(t,u[0]),i&1&&c!==(c=!u[0])&&(r.disabled=c)},d(u){u&&h(e),m=!1,x(z)}}}function Oe(n){let e,t;return{c(){e=b("h3"),t=F("Update a Quiz"),this.h()},l(a){e=g(a,"H3",{slot:!0});var s=v(e);t=G(s,"Update a Quiz"),s.forEach(h),this.h()},h(){_(e,"slot","title")},m(a,s){U(a,e,s),p(e,t)},p:me,d(a){a&&h(e)}}}function Me(n){let e,t,a;function s(r){n[6](r)}let l={onClose:n[2],$$slots:{title:[Oe],default:[Ne]},$$scope:{ctx:n}};return n[1]!==void 0&&(l.open=n[1]),e=new he({props:l}),ie.push(()=>fe(e,"open",s)),{c(){A(e.$$.fragment)},l(r){B(e.$$.fragment,r)},m(r,c){H(e,r,c),a=!0},p(r,[c]){const m={};c&4&&(m.onClose=r[2]),c&129&&(m.$$scope={dirty:c,ctx:r}),!t&&c&2&&(t=!0,m.open=r[1],ce(()=>t=!1)),e.$set(m)},i(r){a||(M(e.$$.fragment,r),a=!0)},o(r){S(e.$$.fragment,r),a=!1},d(r){V(e,r)}}}function Se(n,e,t){let{name:a}=e,{localId:s}=e,{open:l=!1}=e,{onClose:r=()=>{}}=e;async function c(){await Ee(s,{name:a}),t(0,a=""),t(1,l=!1)}function m(){a=this.value,t(0,a)}function z(u){l=u,t(1,l)}return n.$$set=u=>{"name"in u&&t(0,a=u.name),"localId"in u&&t(4,s=u.localId),"open"in u&&t(1,l=u.open),"onClose"in u&&t(2,r=u.onClose)},[a,l,r,c,s,m,z]}class Ae extends K{constructor(e){super(),X(this,e,Se,Me,Z,{name:0,localId:4,open:1,onClose:2})}}function oe(n,e,t){const a=n.slice();return a[9]=e[t],a}function ue(n,e){let t,a,s,l=e[9].name+"",r,c,m,z=e[9].created_at.toLocaleString()+"",u,i,f,$,k,N,Q,D,O,E,W,R;return k=new ke({}),D=new ye({}),{key:n,first:null,c(){t=b("tr"),a=b("td"),s=b("a"),r=F(l),c=C(),m=b("td"),u=F(z),i=C(),f=b("td"),$=b("button"),A(k.$$.fragment),N=C(),Q=b("button"),A(D.$$.fragment),O=C(),this.h()},l(T){t=g(T,"TR",{class:!0});var y=v(t);a=g(y,"TD",{class:!0});var P=v(a);s=g(P,"A",{href:!0});var Y=v(s);r=G(Y,l),Y.forEach(h),P.forEach(h),c=I(y),m=g(y,"TD",{class:!0});var o=v(m);u=G(o,z),o.forEach(h),i=I(y),f=g(y,"TD",{class:!0});var d=v(f);$=g(d,"BUTTON",{class:!0});var w=v($);B(k.$$.fragment,w),w.forEach(h),N=I(d),Q=g(d,"BUTTON",{class:!0});var q=v(Q);B(D.$$.fragment,q),q.forEach(h),d.forEach(h),O=I(y),y.forEach(h),this.h()},h(){_(s,"href",`${Qe}/quizzes/{quiz.local_id}`),_(a,"class","border-b border-slate-100 dark:border-slate-700 p-1"),_(m,"class","border-b border-slate-100 dark:border-slate-700 p-1"),_($,"class","btn danger p-1 w-8 h-8"),_(Q,"class","btn primary p-1 w-8 h-8"),_(f,"class","border-b border-slate-100 dark:border-slate-700 p-1"),_(t,"class","hover:bg-gray-200 cursor-pointer"),this.first=t},m(T,y){U(T,t,y),p(t,a),p(a,s),p(s,r),p(t,c),p(t,m),p(m,u),p(t,i),p(t,f),p(f,$),H(k,$,null),p(f,N),p(f,Q),H(D,Q,null),p(t,O),E=!0,W||(R=[L($,"click",function(){re(e[7](e[9].local_id))&&e[7](e[9].local_id).apply(this,arguments)}),L(Q,"click",se(function(){re(e[8](e[9].local_id,e[9].name))&&e[8](e[9].local_id,e[9].name).apply(this,arguments)}))],W=!0)},p(T,y){e=T,(!E||y&1)&&l!==(l=e[9].name+"")&&ne(r,l),(!E||y&1)&&z!==(z=e[9].created_at.toLocaleString()+"")&&ne(u,z)},i(T){E||(M(k.$$.fragment,T),M(D.$$.fragment,T),E=!0)},o(T){S(k.$$.fragment,T),S(D.$$.fragment,T),E=!1},d(T){T&&h(t),V(k),V(D),W=!1,x(R)}}}function Be(n){let e,t,a,s,l,r,c,m,z,u,i,f,$,k,N,Q,D,O,E=[],W=new Map,R,T,y;e=new Ue({}),a=new Ae({props:{name:n[3],localId:n[2],open:n[4],onClose:n[6]}}),u=new le({props:{sort:n[1]&&n[1][0]==="name",asc:n[1]&&n[1][1]===1}}),k=new le({props:{sort:n[1]&&n[1][0]==="created_at",asc:n[1]&&n[1][1]===1}});let P=n[0];const Y=o=>o[9].local_id;for(let o=0;o<P.length;o+=1){let d=oe(n,P,o),w=Y(d);W.set(w,E[o]=ue(w,d))}return{c(){A(e.$$.fragment),t=C(),A(a.$$.fragment),s=C(),l=b("table"),r=b("thead"),c=b("tr"),m=b("th"),z=F("Name "),A(u.$$.fragment),i=C(),f=b("th"),$=F("Created At "),A(k.$$.fragment),N=C(),Q=b("th"),D=C(),O=b("tbody");for(let o=0;o<E.length;o+=1)E[o].c();this.h()},l(o){B(e.$$.fragment,o),t=I(o),B(a.$$.fragment,o),s=I(o),l=g(o,"TABLE",{class:!0});var d=v(l);r=g(d,"THEAD",{});var w=v(r);c=g(w,"TR",{});var q=v(c);m=g(q,"TH",{class:!0});var j=v(m);z=G(j,"Name "),B(u.$$.fragment,j),j.forEach(h),i=I(q),f=g(q,"TH",{class:!0});var ee=v(f);$=G(ee,"Created At "),B(k.$$.fragment,ee),ee.forEach(h),N=I(q),Q=g(q,"TH",{class:!0}),v(Q).forEach(h),q.forEach(h),w.forEach(h),D=I(d),O=g(d,"TBODY",{});var ae=v(O);for(let te=0;te<E.length;te+=1)E[te].l(ae);ae.forEach(h),d.forEach(h),this.h()},h(){_(m,"class","border-b dark:border-slate-600 cursor-pointer select-none text-left p-1"),_(f,"class","border-b dark:border-slate-600 cursor-pointer select-none text-left p-1"),_(Q,"class","border-b dark:border-slate-600 cursor-pointer select-none text-left p-1"),_(l,"class","table-auto w-full")},m(o,d){H(e,o,d),U(o,t,d),H(a,o,d),U(o,s,d),U(o,l,d),p(l,r),p(r,c),p(c,m),p(m,z),H(u,m,null),p(c,i),p(c,f),p(f,$),H(k,f,null),p(c,N),p(c,Q),p(l,D),p(l,O);for(let w=0;w<E.length;w+=1)E[w].m(O,null);R=!0,T||(y=[L(m,"click",n[5]("name")),L(f,"click",n[5]("created_at"))],T=!0)},p(o,[d]){const w={};d&8&&(w.name=o[3]),d&4&&(w.localId=o[2]),d&16&&(w.open=o[4]),a.$set(w);const q={};d&2&&(q.sort=o[1]&&o[1][0]==="name"),d&2&&(q.asc=o[1]&&o[1][1]===1),u.$set(q);const j={};d&2&&(j.sort=o[1]&&o[1][0]==="created_at"),d&2&&(j.asc=o[1]&&o[1][1]===1),k.$set(j),d&385&&(P=o[0],_e(),E=be(E,d,Y,1,o,P,W,O,ge,ue,null,oe),$e())},i(o){if(!R){M(e.$$.fragment,o),M(a.$$.fragment,o),M(u.$$.fragment,o),M(k.$$.fragment,o);for(let d=0;d<P.length;d+=1)M(E[d]);R=!0}},o(o){S(e.$$.fragment,o),S(a.$$.fragment,o),S(u.$$.fragment,o),S(k.$$.fragment,o);for(let d=0;d<E.length;d+=1)S(E[d]);R=!1},d(o){V(e,o),o&&h(t),V(a,o),o&&h(s),o&&h(l),V(u),V(k);for(let d=0;d<E.length;d+=1)E[d].d();T=!1,x(y)}}}function He(n,e,t){let{quizzes:a}=e,s;function l(f){function $(k,N){return s&&s[1]===-1?k[f]<N[f]?-1:1:k[f]>N[f]?-1:1}return()=>{s&&s[0]===f?t(1,s=[f,-s[1]]):t(1,s=[f,1]),t(0,a=[...a].sort($))}}function r(){t(3,z=""),t(2,m=-1),t(4,u=!1)}function c(f){return async()=>{window.confirm("Are you sure?")&&await Te(f)}}let m,z,u=!1;function i(f,$){return()=>{t(3,z=$),t(2,m=f),t(4,u=!0)}}return n.$$set=f=>{"quizzes"in f&&t(0,a=f.quizzes)},[a,s,m,z,u,l,r,c,i]}class Ve extends K{constructor(e){super(),X(this,e,He,Be,Z,{quizzes:0})}}function Le(n){let e,t,a;return t=new Ve({props:{quizzes:n[0]}}),{c(){e=b("div"),A(t.$$.fragment),this.h()},l(s){e=g(s,"DIV",{class:!0});var l=v(e);B(t.$$.fragment,l),l.forEach(h),this.h()},h(){_(e,"class","container mx-auto")},m(s,l){U(s,e,l),H(t,e,null),a=!0},p(s,[l]){const r={};l&1&&(r.quizzes=s[0]),t.$set(r)},i(s){a||(M(t.$$.fragment,s),a=!0)},o(s){S(t.$$.fragment,s),a=!1},d(s){s&&h(e),V(t)}}}function Pe(n,e,t){let a;return ze(n,we,s=>t(0,a=s)),[a]}class Je extends K{constructor(e){super(),X(this,e,Pe,Le,Z,{})}}export{Je as default};
