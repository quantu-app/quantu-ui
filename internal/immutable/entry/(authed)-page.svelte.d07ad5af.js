import{S as x,b as ee,G as te,A as ne,a3 as le,m as g,w as W,c as C,C as B,p as z,q as v,x as Y,k as _,d as I,D as H,u as b,f as U,L as m,E as V,V as P,a4 as oe,j as S,g as A,F as L,a5 as Z,a6 as he,a7 as ue,r as se,n as be,z as $e,W as ve,a8 as Ee,h as ke,i as fe,y as ce,M as qe}from"../chunks/index.18be049c.js";import{c as Te,u as we,M as Qe,d as ye,q as Ce}from"../chunks/MdDelete.6097f399.js";import{a as ge}from"../chunks/IconBase.94ec7e8b.js";import{M as ze,a as Ie}from"../chunks/MdEdit.340e597c.js";import{S as de}from"../chunks/SortDirection.f70f5f76.js";import{b as pe}from"../chunks/paths.797c339b.js";function De(n){let e,t,a,s,u,r,d,p,h;return{c(){e=g("form"),t=g("input"),a=C(),s=g("div"),u=g("div"),r=g("input"),this.h()},l(i){e=z(i,"FORM",{});var o=v(e);t=z(o,"INPUT",{type:!0,class:!0,placeholder:!0}),a=I(o),s=z(o,"DIV",{class:!0});var $=v(s);u=z($,"DIV",{class:!0});var f=v(u);r=z(f,"INPUT",{type:!0,class:!0}),f.forEach(_),$.forEach(_),o.forEach(_),this.h()},h(){b(t,"type","text"),b(t,"class","mb-1"),b(t,"placeholder","Name"),b(r,"type","submit"),b(r,"class","btn primary"),r.value="Create Quiz",r.disabled=d=!n[0],b(u,"class","flex"),b(s,"class","flex flex-column justify-end")},m(i,o){U(i,e,o),m(e,t),Z(t,n[0]),m(e,a),m(e,s),m(s,u),m(u,r),p||(h=[he(ge.call(null,t)),P(t,"input",n[4]),P(e,"submit",ue(n[2]))],p=!0)},p(i,o){o&1&&t.value!==i[0]&&Z(t,i[0]),o&1&&d!==(d=!i[0])&&(r.disabled=d)},d(i){i&&_(e),p=!1,se(h)}}}function Ue(n){let e,t;return{c(){e=g("h3"),t=W("Create a Quiz"),this.h()},l(a){e=z(a,"H3",{slot:!0});var s=v(e);t=Y(s,"Create a Quiz"),s.forEach(_),this.h()},h(){b(e,"slot","title")},m(a,s){U(a,e,s),m(e,t)},p:be,d(a){a&&_(e)}}}function Ne(n){let e,t,a,s,u,r,d,p;function h(o){n[5](o)}let i={$$slots:{title:[Ue],default:[De]},$$scope:{ctx:n}};return n[1]!==void 0&&(i.open=n[1]),s=new ze({props:i}),ne.push(()=>le(s,"open",h)),{c(){e=g("button"),t=W("Create Quiz"),a=C(),B(s.$$.fragment),this.h()},l(o){e=z(o,"BUTTON",{class:!0});var $=v(e);t=Y($,"Create Quiz"),$.forEach(_),a=I(o),H(s.$$.fragment,o),this.h()},h(){b(e,"class","btn primary")},m(o,$){U(o,e,$),m(e,t),U(o,a,$),V(s,o,$),r=!0,d||(p=P(e,"click",n[3]),d=!0)},p(o,[$]){const f={};$&65&&(f.$$scope={dirty:$,ctx:o}),!u&&$&2&&(u=!0,f.open=o[1],oe(()=>u=!1)),s.$set(f)},i(o){r||(S(s.$$.fragment,o),r=!0)},o(o){A(s.$$.fragment,o),r=!1},d(o){o&&_(e),o&&_(a),L(s,o),d=!1,p()}}}function Oe(n,e,t){let a;async function s(){await Te({name:a}),t(0,a=""),t(1,u=!1)}let u=!1;function r(){t(1,u=!0)}function d(){a=this.value,t(0,a)}function p(h){u=h,t(1,u)}return[a,u,s,r,d,p]}class Me extends x{constructor(e){super(),ee(this,e,Oe,Ne,te,{})}}function Se(n){let e,t,a,s,u,r,d,p,h;return{c(){e=g("form"),t=g("input"),a=C(),s=g("div"),u=g("div"),r=g("input"),this.h()},l(i){e=z(i,"FORM",{});var o=v(e);t=z(o,"INPUT",{type:!0,class:!0,placeholder:!0}),a=I(o),s=z(o,"DIV",{class:!0});var $=v(s);u=z($,"DIV",{class:!0});var f=v(u);r=z(f,"INPUT",{type:!0,class:!0}),f.forEach(_),$.forEach(_),o.forEach(_),this.h()},h(){b(t,"type","text"),b(t,"class","mb-1"),b(t,"placeholder","Name"),b(r,"type","submit"),b(r,"class","btn primary"),r.value="Update Quiz",r.disabled=d=!n[0],b(u,"class","flex"),b(s,"class","flex flex-column justify-end")},m(i,o){U(i,e,o),m(e,t),Z(t,n[0]),m(e,a),m(e,s),m(s,u),m(u,r),p||(h=[he(ge.call(null,t)),P(t,"input",n[5]),P(e,"submit",ue(n[3]))],p=!0)},p(i,o){o&1&&t.value!==i[0]&&Z(t,i[0]),o&1&&d!==(d=!i[0])&&(r.disabled=d)},d(i){i&&_(e),p=!1,se(h)}}}function Ae(n){let e,t;return{c(){e=g("h3"),t=W("Update a Quiz"),this.h()},l(a){e=z(a,"H3",{slot:!0});var s=v(e);t=Y(s,"Update a Quiz"),s.forEach(_),this.h()},h(){b(e,"slot","title")},m(a,s){U(a,e,s),m(e,t)},p:be,d(a){a&&_(e)}}}function Be(n){let e,t,a;function s(r){n[6](r)}let u={onClose:n[2],$$slots:{title:[Ae],default:[Se]},$$scope:{ctx:n}};return n[1]!==void 0&&(u.open=n[1]),e=new ze({props:u}),ne.push(()=>le(e,"open",s)),{c(){B(e.$$.fragment)},l(r){H(e.$$.fragment,r)},m(r,d){V(e,r,d),a=!0},p(r,[d]){const p={};d&4&&(p.onClose=r[2]),d&129&&(p.$$scope={dirty:d,ctx:r}),!t&&d&2&&(t=!0,p.open=r[1],oe(()=>t=!1)),e.$set(p)},i(r){a||(S(e.$$.fragment,r),a=!0)},o(r){A(e.$$.fragment,r),a=!1},d(r){L(e,r)}}}function He(n,e,t){let{name:a}=e,{localId:s}=e,{open:u=!1}=e,{onClose:r=()=>{}}=e;async function d(){await we(s,{name:a}),t(0,a=""),t(1,u=!1)}function p(){a=this.value,t(0,a)}function h(i){u=i,t(1,u)}return n.$$set=i=>{"name"in i&&t(0,a=i.name),"localId"in i&&t(4,s=i.localId),"open"in i&&t(1,u=i.open),"onClose"in i&&t(2,r=i.onClose)},[a,u,r,d,s,p,h]}class Ve extends x{constructor(e){super(),ee(this,e,He,Be,te,{name:0,localId:4,open:1,onClose:2})}}function me(n,e,t){const a=n.slice();return a[10]=e[t],a}function _e(n,e){let t,a,s,u=e[10].name+"",r,d,p,h,i=e[10].created_at.toLocaleString()+"",o,$,f,T,k,N,y,D,O,E,J,j;return k=new Qe({}),D=new Ie({}),{key:n,first:null,c(){t=g("tr"),a=g("td"),s=g("a"),r=W(u),p=C(),h=g("td"),o=W(i),$=C(),f=g("td"),T=g("button"),B(k.$$.fragment),N=C(),y=g("button"),B(D.$$.fragment),O=C(),this.h()},l(q){t=z(q,"TR",{class:!0});var w=v(t);a=z(w,"TD",{class:!0});var X=v(a);s=z(X,"A",{href:!0});var K=v(s);r=Y(K,u),K.forEach(_),X.forEach(_),p=I(w),h=z(w,"TD",{class:!0});var R=v(h);o=Y(R,i),R.forEach(_),$=I(w),f=z(w,"TD",{class:!0});var F=v(f);T=z(F,"BUTTON",{class:!0});var l=v(T);H(k.$$.fragment,l),l.forEach(_),N=I(F),y=z(F,"BUTTON",{class:!0});var c=v(y);H(D.$$.fragment,c),c.forEach(_),F.forEach(_),O=I(w),w.forEach(_),this.h()},h(){b(s,"href",d=`${pe}/quizzes/${e[10].local_id}`),b(a,"class","border-b border-slate-100 dark:border-slate-700 p-1"),b(h,"class","border-b border-slate-100 dark:border-slate-700 p-1"),b(T,"class","btn danger p-1 w-8 h-8"),b(y,"class","btn primary p-1 w-8 h-8"),b(f,"class","border-b border-slate-100 dark:border-slate-700 p-1"),b(t,"class","hover:bg-gray-200 cursor-pointer"),this.first=t},m(q,w){U(q,t,w),m(t,a),m(a,s),m(s,r),m(t,p),m(t,h),m(h,o),m(t,$),m(t,f),m(f,T),V(k,T,null),m(f,N),m(f,y),V(D,y,null),m(t,O),E=!0,J||(j=[P(T,"click",function(){fe(e[7](e[10].local_id))&&e[7](e[10].local_id).apply(this,arguments)}),P(y,"click",ue(function(){fe(e[8](e[10].local_id,e[10].name))&&e[8](e[10].local_id,e[10].name).apply(this,arguments)}))],J=!0)},p(q,w){e=q,(!E||w&1)&&u!==(u=e[10].name+"")&&ce(r,u),(!E||w&1&&d!==(d=`${pe}/quizzes/${e[10].local_id}`))&&b(s,"href",d),(!E||w&1)&&i!==(i=e[10].created_at.toLocaleString()+"")&&ce(o,i)},i(q){E||(S(k.$$.fragment,q),S(D.$$.fragment,q),E=!0)},o(q){A(k.$$.fragment,q),A(D.$$.fragment,q),E=!1},d(q){q&&_(t),L(k),L(D),J=!1,se(j)}}}function Le(n){let e,t,a,s,u,r,d,p,h,i,o,$,f,T,k,N,y,D,O,E=[],J=new Map,j,q,w;e=new Me({});function X(l){n[9](l)}let K={name:n[3],localId:n[2],onClose:n[6]};n[4]!==void 0&&(K.open=n[4]),a=new Ve({props:K}),ne.push(()=>le(a,"open",X)),o=new de({props:{sort:n[1]&&n[1][0]==="name",asc:n[1]&&n[1][1]===1}}),k=new de({props:{sort:n[1]&&n[1][0]==="created_at",asc:n[1]&&n[1][1]===1}});let R=n[0];const F=l=>l[10].local_id;for(let l=0;l<R.length;l+=1){let c=me(n,R,l),Q=F(c);J.set(Q,E[l]=_e(Q,c))}return{c(){B(e.$$.fragment),t=C(),B(a.$$.fragment),u=C(),r=g("table"),d=g("thead"),p=g("tr"),h=g("th"),i=W("Name "),B(o.$$.fragment),$=C(),f=g("th"),T=W("Created At "),B(k.$$.fragment),N=C(),y=g("th"),D=C(),O=g("tbody");for(let l=0;l<E.length;l+=1)E[l].c();this.h()},l(l){H(e.$$.fragment,l),t=I(l),H(a.$$.fragment,l),u=I(l),r=z(l,"TABLE",{class:!0});var c=v(r);d=z(c,"THEAD",{});var Q=v(d);p=z(Q,"TR",{});var M=v(p);h=z(M,"TH",{class:!0});var G=v(h);i=Y(G,"Name "),H(o.$$.fragment,G),G.forEach(_),$=I(M),f=z(M,"TH",{class:!0});var ae=v(f);T=Y(ae,"Created At "),H(k.$$.fragment,ae),ae.forEach(_),N=I(M),y=z(M,"TH",{class:!0}),v(y).forEach(_),M.forEach(_),Q.forEach(_),D=I(c),O=z(c,"TBODY",{});var ie=v(O);for(let re=0;re<E.length;re+=1)E[re].l(ie);ie.forEach(_),c.forEach(_),this.h()},h(){b(h,"class","border-b dark:border-slate-600 cursor-pointer select-none text-left p-1"),b(f,"class","border-b dark:border-slate-600 cursor-pointer select-none text-left p-1"),b(y,"class","border-b dark:border-slate-600 cursor-pointer select-none text-left p-1"),b(r,"class","table-auto w-full")},m(l,c){V(e,l,c),U(l,t,c),V(a,l,c),U(l,u,c),U(l,r,c),m(r,d),m(d,p),m(p,h),m(h,i),V(o,h,null),m(p,$),m(p,f),m(f,T),V(k,f,null),m(p,N),m(p,y),m(r,D),m(r,O);for(let Q=0;Q<E.length;Q+=1)E[Q].m(O,null);j=!0,q||(w=[P(h,"click",n[5]("name")),P(f,"click",n[5]("created_at"))],q=!0)},p(l,[c]){const Q={};c&8&&(Q.name=l[3]),c&4&&(Q.localId=l[2]),!s&&c&16&&(s=!0,Q.open=l[4],oe(()=>s=!1)),a.$set(Q);const M={};c&2&&(M.sort=l[1]&&l[1][0]==="name"),c&2&&(M.asc=l[1]&&l[1][1]===1),o.$set(M);const G={};c&2&&(G.sort=l[1]&&l[1][0]==="created_at"),c&2&&(G.asc=l[1]&&l[1][1]===1),k.$set(G),c&385&&(R=l[0],$e(),E=ve(E,c,F,1,l,R,J,O,Ee,_e,null,me),ke())},i(l){if(!j){S(e.$$.fragment,l),S(a.$$.fragment,l),S(o.$$.fragment,l),S(k.$$.fragment,l);for(let c=0;c<R.length;c+=1)S(E[c]);j=!0}},o(l){A(e.$$.fragment,l),A(a.$$.fragment,l),A(o.$$.fragment,l),A(k.$$.fragment,l);for(let c=0;c<E.length;c+=1)A(E[c]);j=!1},d(l){L(e,l),l&&_(t),L(a,l),l&&_(u),l&&_(r),L(o),L(k);for(let c=0;c<E.length;c+=1)E[c].d();q=!1,se(w)}}}function Pe(n,e,t){let{quizzes:a}=e,s;function u(f){function T(k,N){return s&&s[1]===-1?k[f]<N[f]?-1:1:k[f]>N[f]?-1:1}return()=>{s&&s[0]===f?t(1,s=[f,-s[1]]):t(1,s=[f,1]),t(0,a=[...a].sort(T))}}function r(){t(3,h=""),t(2,p=-1),t(4,i=!1)}function d(f){return async()=>{window.confirm("Are you sure?")&&await ye(f)}}let p,h,i=!1;function o(f,T){return()=>{t(3,h=T),t(2,p=f),t(4,i=!0)}}function $(f){i=f,t(4,i)}return n.$$set=f=>{"quizzes"in f&&t(0,a=f.quizzes)},[a,s,p,h,i,u,r,d,o,$]}class Re extends x{constructor(e){super(),ee(this,e,Pe,Le,te,{quizzes:0})}}function je(n){let e,t,a;return t=new Re({props:{quizzes:n[0]}}),{c(){e=g("div"),B(t.$$.fragment),this.h()},l(s){e=z(s,"DIV",{class:!0});var u=v(e);H(t.$$.fragment,u),u.forEach(_),this.h()},h(){b(e,"class","container mx-auto")},m(s,u){U(s,e,u),V(t,e,null),a=!0},p(s,[u]){const r={};u&1&&(r.quizzes=s[0]),t.$set(r)},i(s){a||(S(t.$$.fragment,s),a=!0)},o(s){A(t.$$.fragment,s),a=!1},d(s){s&&_(e),L(t)}}}function Fe(n,e,t){let a;return qe(n,Ce,s=>t(0,a=s)),[a]}class Ze extends x{constructor(e){super(),ee(this,e,Fe,je,te,{})}}export{Ze as default};
